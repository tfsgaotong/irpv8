<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="IRP_QUESTION">
  <resultMap class="com.tfs.irp.question.entity.IrpQuestion" id="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue May 06 17:32:54 CST 2014.
    -->
    <result column="QUESTIONID" jdbcType="DECIMAL" property="questionid" />
    <result column="TITLE" jdbcType="VARCHAR" property="title" />
    <result column="HTMLCONTENT" jdbcType="VARCHAR" property="htmlcontent" />
    <result column="TEXTCONTENT" jdbcType="VARCHAR" property="textcontent" />
    <result column="STATUS" jdbcType="DECIMAL" property="status" />
    <result column="ROOTID" jdbcType="DECIMAL" property="rootid" />
    <result column="PARENTID" jdbcType="DECIMAL" property="parentid" />
    <result column="BESTANSWERID" jdbcType="DECIMAL" property="bestanswerid" />
    <result column="ISBESTANSWER" jdbcType="DECIMAL" property="isbestanswer" />
    <result column="EXPERTANSWERID" jdbcType="DECIMAL" property="expertanswerid" />
    <result column="ISEXPERTANSWER" jdbcType="DECIMAL" property="isexpertanswer" />
    <result column="REPLYCOUNT" jdbcType="DECIMAL" property="replycount" />
    <result column="BROWSECOUNT" jdbcType="DECIMAL" property="browsecount" />
    <result column="GOODEVALUATECOUNT" jdbcType="DECIMAL" property="goodevaluatecount" />
    <result column="BADEVALUATECOUNT" jdbcType="DECIMAL" property="badevaluatecount" />
    <result column="DOCID" jdbcType="DECIMAL" property="docid" />
    <result column="CRUSERID" jdbcType="DECIMAL" property="cruserid" />
    <result column="CRUSER" jdbcType="VARCHAR" property="cruser" />
    <result column="CRTIME" jdbcType="TIMESTAMP" property="crtime" />
    <result column="REPLYQUESTIONID" jdbcType="DECIMAL" property="replyquestionid" />
  </resultMap>
  <sql id="ibatorgenerated_Example_Where_Clause">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue May 06 17:32:54 CST 2014.
    -->
    <iterate conjunction="or" prepend="where" property="oredCriteria" removeFirstPrepend="iterate">
      <isEqual compareValue="true" property="oredCriteria[].valid">
        (
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithoutValue">
          $oredCriteria[].criteriaWithoutValue[]$
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithSingleValue">
          $oredCriteria[].criteriaWithSingleValue[].condition$
            #oredCriteria[].criteriaWithSingleValue[].value#
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithListValue">
          $oredCriteria[].criteriaWithListValue[].condition$
          <iterate close=")" conjunction="," open="(" property="oredCriteria[].criteriaWithListValue[].values">
            #oredCriteria[].criteriaWithListValue[].values[]#
          </iterate>
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithBetweenValue">
          $oredCriteria[].criteriaWithBetweenValue[].condition$
          #oredCriteria[].criteriaWithBetweenValue[].values[0]# and
          #oredCriteria[].criteriaWithBetweenValue[].values[1]#
        </iterate>
        )
      </isEqual>
    </iterate>
  </sql>
  <select id="ibatorgenerated_selectByExample" parameterClass="com.tfs.irp.question.entity.IrpQuestionExample" resultMap="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue May 06 17:32:54 CST 2014.
    -->
    select QUESTIONID, TITLE, HTMLCONTENT, TEXTCONTENT, STATUS, ROOTID, PARENTID, BESTANSWERID,
      ISBESTANSWER, EXPERTANSWERID, ISEXPERTANSWER, REPLYCOUNT, BROWSECOUNT, GOODEVALUATECOUNT,
      BADEVALUATECOUNT, DOCID, CRUSERID, CRUSER, CRTIME, REPLYQUESTIONID
    from IRP_QUESTION
    <isParameterPresent>
      <include refid="IRP_QUESTION.ibatorgenerated_Example_Where_Clause" />
      <isNotNull property="orderByClause">
        order by $orderByClause$
      </isNotNull>
    </isParameterPresent>
  </select>
  <select id="ibatorgenerated_selectByPrimaryKey" parameterClass="com.tfs.irp.question.entity.IrpQuestion" resultMap="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue May 06 17:32:54 CST 2014.
    -->
    select QUESTIONID, TITLE, HTMLCONTENT, TEXTCONTENT, STATUS, ROOTID, PARENTID, BESTANSWERID,
      ISBESTANSWER, EXPERTANSWERID, ISEXPERTANSWER, REPLYCOUNT, BROWSECOUNT, GOODEVALUATECOUNT,
      BADEVALUATECOUNT, DOCID, CRUSERID, CRUSER, CRTIME, REPLYQUESTIONID
    from IRP_QUESTION
    where QUESTIONID = #questionid:DECIMAL#
  </select>
  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="com.tfs.irp.question.entity.IrpQuestion">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue May 06 17:32:54 CST 2014.
    -->
    delete from IRP_QUESTION
    where QUESTIONID = #questionid:DECIMAL#
  </delete>
  <delete id="ibatorgenerated_deleteByExample" parameterClass="com.tfs.irp.question.entity.IrpQuestionExample">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue May 06 17:32:54 CST 2014.
    -->
    delete from IRP_QUESTION
    <include refid="IRP_QUESTION.ibatorgenerated_Example_Where_Clause" />
  </delete>
  <insert id="ibatorgenerated_insert" parameterClass="com.tfs.irp.question.entity.IrpQuestion">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue May 06 17:32:54 CST 2014.
    -->
    insert into IRP_QUESTION (QUESTIONID, TITLE, HTMLCONTENT, TEXTCONTENT, STATUS, ROOTID, PARENTID,
      BESTANSWERID, ISBESTANSWER, EXPERTANSWERID, ISEXPERTANSWER, REPLYCOUNT, BROWSECOUNT,
      GOODEVALUATECOUNT, BADEVALUATECOUNT, DOCID, CRUSERID, CRUSER, CRTIME, REPLYQUESTIONID)
    values (#questionid:DECIMAL#, #title:VARCHAR#, #htmlcontent:VARCHAR#, #textcontent:VARCHAR#,
      #status:DECIMAL#, #rootid:DECIMAL#, #parentid:DECIMAL#, #bestanswerid:DECIMAL#,
      #isbestanswer:DECIMAL#, #expertanswerid:DECIMAL#, #isexpertanswer:DECIMAL#,
      #replycount:DECIMAL#, #browsecount:DECIMAL#, #goodevaluatecount:DECIMAL#,
      #badevaluatecount:DECIMAL#, #docid:DECIMAL#, #cruserid:DECIMAL#, #cruser:VARCHAR#,
      #crtime:TIMESTAMP#, #replyquestionid:DECIMAL#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="com.tfs.irp.question.entity.IrpQuestion">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue May 06 17:32:54 CST 2014.
    -->
    insert into IRP_QUESTION
    <dynamic prepend="(">
      <isNotNull prepend="," property="questionid">
        QUESTIONID
      </isNotNull>
      <isNotNull prepend="," property="title">
        TITLE
      </isNotNull>
      <isNotNull prepend="," property="htmlcontent">
        HTMLCONTENT
      </isNotNull>
      <isNotNull prepend="," property="textcontent">
        TEXTCONTENT
      </isNotNull>
      <isNotNull prepend="," property="status">
        STATUS
      </isNotNull>
      <isNotNull prepend="," property="rootid">
        ROOTID
      </isNotNull>
      <isNotNull prepend="," property="parentid">
        PARENTID
      </isNotNull>
      <isNotNull prepend="," property="bestanswerid">
        BESTANSWERID
      </isNotNull>
      <isNotNull prepend="," property="isbestanswer">
        ISBESTANSWER
      </isNotNull>
      <isNotNull prepend="," property="expertanswerid">
        EXPERTANSWERID
      </isNotNull>
      <isNotNull prepend="," property="isexpertanswer">
        ISEXPERTANSWER
      </isNotNull>
      <isNotNull prepend="," property="replycount">
        REPLYCOUNT
      </isNotNull>
      <isNotNull prepend="," property="browsecount">
        BROWSECOUNT
      </isNotNull>
      <isNotNull prepend="," property="goodevaluatecount">
        GOODEVALUATECOUNT
      </isNotNull>
      <isNotNull prepend="," property="badevaluatecount">
        BADEVALUATECOUNT
      </isNotNull>
      <isNotNull prepend="," property="docid">
        DOCID
      </isNotNull>
      <isNotNull prepend="," property="cruserid">
        CRUSERID
      </isNotNull>
      <isNotNull prepend="," property="cruser">
        CRUSER
      </isNotNull>
      <isNotNull prepend="," property="crtime">
        CRTIME
      </isNotNull>
      <isNotNull prepend="," property="replyquestionid">
        REPLYQUESTIONID
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(">
      <isNotNull prepend="," property="questionid">
        #questionid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="title">
        #title:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="htmlcontent">
        #htmlcontent:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="textcontent">
        #textcontent:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="status">
        #status:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="rootid">
        #rootid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="parentid">
        #parentid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="bestanswerid">
        #bestanswerid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="isbestanswer">
        #isbestanswer:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="expertanswerid">
        #expertanswerid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="isexpertanswer">
        #isexpertanswer:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="replycount">
        #replycount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="browsecount">
        #browsecount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="goodevaluatecount">
        #goodevaluatecount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="badevaluatecount">
        #badevaluatecount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="docid">
        #docid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="cruserid">
        #cruserid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="cruser">
        #cruser:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="crtime">
        #crtime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="replyquestionid">
        #replyquestionid:DECIMAL#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <select id="ibatorgenerated_countByExample" parameterClass="com.tfs.irp.question.entity.IrpQuestionExample" resultClass="java.lang.Integer">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue May 06 17:32:54 CST 2014.
    -->
    select count(*) from IRP_QUESTION
    <include refid="IRP_QUESTION.ibatorgenerated_Example_Where_Clause" />
  </select>
  <update id="ibatorgenerated_updateByExampleSelective">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue May 06 17:32:54 CST 2014.
    -->
    update IRP_QUESTION
    <dynamic prepend="set">
      <isNotNull prepend="," property="record.questionid">
        QUESTIONID = #record.questionid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.title">
        TITLE = #record.title:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.htmlcontent">
        HTMLCONTENT = #record.htmlcontent:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.textcontent">
        TEXTCONTENT = #record.textcontent:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.status">
        STATUS = #record.status:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.rootid">
        ROOTID = #record.rootid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.parentid">
        PARENTID = #record.parentid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.bestanswerid">
        BESTANSWERID = #record.bestanswerid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.isbestanswer">
        ISBESTANSWER = #record.isbestanswer:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.expertanswerid">
        EXPERTANSWERID = #record.expertanswerid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.isexpertanswer">
        ISEXPERTANSWER = #record.isexpertanswer:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.replycount">
        REPLYCOUNT = #record.replycount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.browsecount">
        BROWSECOUNT = #record.browsecount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.goodevaluatecount">
        GOODEVALUATECOUNT = #record.goodevaluatecount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.badevaluatecount">
        BADEVALUATECOUNT = #record.badevaluatecount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.docid">
        DOCID = #record.docid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.cruserid">
        CRUSERID = #record.cruserid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.cruser">
        CRUSER = #record.cruser:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.crtime">
        CRTIME = #record.crtime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="record.replyquestionid">
        REPLYQUESTIONID = #record.replyquestionid:DECIMAL#
      </isNotNull>
    </dynamic>
    <isParameterPresent>
      <include refid="IRP_QUESTION.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="ibatorgenerated_updateByExample">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue May 06 17:32:54 CST 2014.
    -->
    update IRP_QUESTION
    set QUESTIONID = #record.questionid:DECIMAL#,
      TITLE = #record.title:VARCHAR#,
      HTMLCONTENT = #record.htmlcontent:VARCHAR#,
      TEXTCONTENT = #record.textcontent:VARCHAR#,
      STATUS = #record.status:DECIMAL#,
      ROOTID = #record.rootid:DECIMAL#,
      PARENTID = #record.parentid:DECIMAL#,
      BESTANSWERID = #record.bestanswerid:DECIMAL#,
      ISBESTANSWER = #record.isbestanswer:DECIMAL#,
      EXPERTANSWERID = #record.expertanswerid:DECIMAL#,
      ISEXPERTANSWER = #record.isexpertanswer:DECIMAL#,
      REPLYCOUNT = #record.replycount:DECIMAL#,
      BROWSECOUNT = #record.browsecount:DECIMAL#,
      GOODEVALUATECOUNT = #record.goodevaluatecount:DECIMAL#,
      BADEVALUATECOUNT = #record.badevaluatecount:DECIMAL#,
      DOCID = #record.docid:DECIMAL#,
      CRUSERID = #record.cruserid:DECIMAL#,
      CRUSER = #record.cruser:VARCHAR#,
      CRTIME = #record.crtime:TIMESTAMP#,
      REPLYQUESTIONID = #record.replyquestionid:DECIMAL#
    <isParameterPresent>
      <include refid="IRP_QUESTION.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="ibatorgenerated_updateByPrimaryKeySelective" parameterClass="com.tfs.irp.question.entity.IrpQuestion">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue May 06 17:32:54 CST 2014.
    -->
    update IRP_QUESTION
    <dynamic prepend="set">
      <isNotNull prepend="," property="title">
        TITLE = #title:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="htmlcontent">
        HTMLCONTENT = #htmlcontent:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="textcontent">
        TEXTCONTENT = #textcontent:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="status">
        STATUS = #status:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="rootid">
        ROOTID = #rootid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="parentid">
        PARENTID = #parentid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="bestanswerid">
        BESTANSWERID = #bestanswerid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="isbestanswer">
        ISBESTANSWER = #isbestanswer:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="expertanswerid">
        EXPERTANSWERID = #expertanswerid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="isexpertanswer">
        ISEXPERTANSWER = #isexpertanswer:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="replycount">
        REPLYCOUNT = #replycount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="browsecount">
        BROWSECOUNT = #browsecount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="goodevaluatecount">
        GOODEVALUATECOUNT = #goodevaluatecount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="badevaluatecount">
        BADEVALUATECOUNT = #badevaluatecount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="docid">
        DOCID = #docid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="cruserid">
        CRUSERID = #cruserid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="cruser">
        CRUSER = #cruser:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="crtime">
        CRTIME = #crtime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="replyquestionid">
        REPLYQUESTIONID = #replyquestionid:DECIMAL#
      </isNotNull>
    </dynamic>
    where QUESTIONID = #questionid:DECIMAL#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="com.tfs.irp.question.entity.IrpQuestion">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue May 06 17:32:54 CST 2014.
    -->
    update IRP_QUESTION
    set TITLE = #title:VARCHAR#,
      HTMLCONTENT = #htmlcontent:VARCHAR#,
      TEXTCONTENT = #textcontent:VARCHAR#,
      STATUS = #status:DECIMAL#,
      ROOTID = #rootid:DECIMAL#,
      PARENTID = #parentid:DECIMAL#,
      BESTANSWERID = #bestanswerid:DECIMAL#,
      ISBESTANSWER = #isbestanswer:DECIMAL#,
      EXPERTANSWERID = #expertanswerid:DECIMAL#,
      ISEXPERTANSWER = #isexpertanswer:DECIMAL#,
      REPLYCOUNT = #replycount:DECIMAL#,
      BROWSECOUNT = #browsecount:DECIMAL#,
      GOODEVALUATECOUNT = #goodevaluatecount:DECIMAL#,
      BADEVALUATECOUNT = #badevaluatecount:DECIMAL#,
      DOCID = #docid:DECIMAL#,
      CRUSERID = #cruserid:DECIMAL#,
      CRUSER = #cruser:VARCHAR#,
      CRTIME = #crtime:TIMESTAMP#,
      REPLYQUESTIONID = #replyquestionid:DECIMAL#
    where QUESTIONID = #questionid:DECIMAL#
  </update>

	<select id="findExpertAnswerthree" parameterClass="com.tfs.irp.question.entity.IrpQuestionExample" resultMap="ibatorgenerated_BaseResultMap">
		<!-- WARNING - This element is automatically generated by Apache iBATIS 
			ibator, do not modify. This element was generated on Thu Apr 25 13:55:21 
			CST 2013. -->
    <![CDATA[
    select QUESTIONID, TITLE, HTMLCONTENT, TEXTCONTENT, STATUS, ROOTID, PARENTID, BESTANSWERID,
      ISBESTANSWER, EXPERTANSWERID, ISEXPERTANSWER, REPLYCOUNT, BROWSECOUNT, GOODEVALUATECOUNT,
      BADEVALUATECOUNT, DOCID, CRUSERID, CRUSER, CRTIME, REPLYQUESTIONID
  		 from 
   			(select ROWNUM,TEXTCONTENT??CRTIME where TITLE is null order by CRTIME 
      		) where ROWNUM <= 3
      ]]>
		<isParameterPresent>
			<include refid="IRP_QUESTION.ibatorgenerated_Example_Where_Clause" />
			<isNotNull property="orderByClause">
				order by $orderByClause$
			</isNotNull>
		</isParameterPresent>
	</select>
	<select id="findQuestionOfExpert" parameterClass="java.util.HashMap" resultMap="ibatorgenerated_BaseResultMap">
		select QUESTIONID, TITLE, HTMLCONTENT, TEXTCONTENT, STATUS, ROOTID, PARENTID, BESTANSWERID,
      ISBESTANSWER, EXPERTANSWERID, ISEXPERTANSWER, REPLYCOUNT, BROWSECOUNT, GOODEVALUATECOUNT,
      BADEVALUATECOUNT, DOCID, CRUSERID, CRUSER, CRTIME, REPLYQUESTIONID
		from IRP_QUESTION
		where
		QUESTIONID in
		(select QUESTIONID from IRP_EXPERT_QUESTION where
		EXPERTID=#loginUserId:DECIMAL#)
		and EXPERTANSWERID is null
		<dynamic close=")" open="(" prepend="and">
			<isNotNull prepend="or" property="questionid">
				irp_question.questionid like #questionid:NUMBER#
			</isNotNull>
			<isNotNull prepend="or" property="title">
				irp_question.title like #title:VARCHAR#
			</isNotNull>
		</dynamic>
		<isNotNull prepend="and" property="status">
			irp_question.status = #status:DECIMAL#
		</isNotNull>
		order by $orderStr$
	</select>
	<select id="countExpertQuestion" parameterClass="java.util.HashMap" resultClass="java.lang.Integer">
    	select count(1)
		from IRP_QUESTION
		where
		QUESTIONID in
		(select QUESTIONID from IRP_EXPERT_QUESTION where
		EXPERTID=#loginUserId:DECIMAL#)
		and EXPERTANSWERID is null
      <dynamic close=")" open="(" prepend="and">
	    <isNotNull prepend="or" property="title">
	    	irp_question.title like #title:VARCHAR#
	    </isNotNull>
      </dynamic>
	  <isNotNull prepend="and" property="questionid">
	    	irp_question.questionid = #questionid:DECIMAL#
	  </isNotNull>
  	</select>
	<select id="countQuestionsOfMeAnswer" parameterClass="java.util.HashMap" resultClass="java.lang.Integer">
    	select count(1)
		from IRP_QUESTION
		where
		QUESTIONID in
		(select QUESTIONID from IRP_EXPERT_QUESTION where
		QUESTIONERID=#loginUserId:DECIMAL#)
      <dynamic close=")" open="(" prepend="and">
	    <isNotNull prepend="or" property="title">
	    	irp_question.title like #title:VARCHAR#
	    </isNotNull>
      </dynamic>
	  <isNotNull prepend="and" property="questionid">
	    	irp_question.questionid = #questionid:DECIMAL#
	  </isNotNull>
  	</select>
	<select id="findQuestionOfMeAnswer" parameterClass="java.util.HashMap" resultMap="ibatorgenerated_BaseResultMap">
		select QUESTIONID, TITLE, HTMLCONTENT, TEXTCONTENT, STATUS, ROOTID, PARENTID, BESTANSWERID,
      ISBESTANSWER, EXPERTANSWERID, ISEXPERTANSWER, REPLYCOUNT, BROWSECOUNT, GOODEVALUATECOUNT,
      BADEVALUATECOUNT, DOCID, CRUSERID, CRUSER, CRTIME, REPLYQUESTIONID
		from IRP_QUESTION
		where
		QUESTIONID in
		(select QUESTIONID from IRP_EXPERT_QUESTION where
		QUESTIONERID=#loginUserId:DECIMAL#)
		<dynamic close=")" open="(" prepend="and">
			<isNotNull prepend="or" property="questionid">
				irp_question.questionid like #questionid:NUMBER#
			</isNotNull>
			<isNotNull prepend="or" property="title">
				irp_question.title like #title:VARCHAR#
			</isNotNull>
		</dynamic>
		<isNotNull prepend="and" property="status">
			irp_question.status = #status:DECIMAL#
		</isNotNull>
		order by $orderStr$
	</select>
<select id="ibatorgenerated_questionintelligentuser" resultClass="java.util.HashMap">
		select CRUSERID,count(cruserid) as USERCOUNT from irp_question where  title is not null  group by cruserid order by usercount desc 
	</select>
	
	<select id="ibatorgenerated_selectbyexcel" parameterClass="java.util.HashMap"  resultMap="ibatorgenerated_BaseResultMap">
		select QUESTIONID, TITLE, HTMLCONTENT, TEXTCONTENT, STATUS, ROOTID, PARENTID, BESTANSWERID,
      ISBESTANSWER, EXPERTANSWERID, ISEXPERTANSWER, REPLYCOUNT, BROWSECOUNT, GOODEVALUATECOUNT,
      BADEVALUATECOUNT, DOCID, CRUSERID, CRUSER, CRTIME, REPLYQUESTIONID
		from IRP_QUESTION 
       where CRUSER = #cruser:VARCHAR# and parentid is null and STATUS in($status$) and questionid in(select parentid from irp_question where CCRUSER = #answer:DECIMAL# and parentid is not null)
		<isParameterPresent>
			<include refid="IRP_QUESTION.ibatorgenerated_Example_Where_Clause" />
			<isNotNull property="orderByClause">
				order by $orderByClause$
			</isNotNull>
		</isParameterPresent>
	</select>
	
	<select id="ibatorgenerated_selectbyexcelcount" parameterClass="java.util.HashMap"  resultClass="java.lang.Integer" >
		select count(*) from IRP_QUESTION 
       where textcontent like #textcontent:VARCHAR# and CRUSER = #cruser:VARCHAR# and parentid is null and STATUS in($status$) and questionid in(select parentid from irp_question where CRUSER = #answer:DECIMAL# and parentid is not null)
	</select>
</sqlMap>