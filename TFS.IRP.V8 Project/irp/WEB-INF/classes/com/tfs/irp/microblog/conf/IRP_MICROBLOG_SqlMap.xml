<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="IRP_MICROBLOG">
  <resultMap class="com.tfs.irp.microblog.entity.IrpMicroblog" id="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 15 11:31:18 CST 2014.
    -->
    <result column="MICROBLOGID" jdbcType="DECIMAL" property="microblogid" />
    <result column="USERID" jdbcType="DECIMAL" property="userid" />
    <result column="MICROBLOGCONTENT" jdbcType="VARCHAR" property="microblogcontent" />
    <result column="CRTIME" jdbcType="TIMESTAMP" property="crtime" />
    <result column="FROMCLIENT" jdbcType="DECIMAL" property="fromclient" />
    <result column="FROMDATA" jdbcType="VARCHAR" property="fromdata" />
    <result column="COMMENTCOUNT" jdbcType="DECIMAL" property="commentcount" />
    <result column="TRANSPONDID" jdbcType="DECIMAL" property="transpondid" />
    <result column="TRANSPONDCOUNT" jdbcType="DECIMAL" property="transpondcount" />
    <result column="BLOGTYPE" jdbcType="DECIMAL" property="blogtype" />
    <result column="TYPEDATA" jdbcType="VARCHAR" property="typedata" />
    <result column="ISDEL" jdbcType="DECIMAL" property="isdel" />
    <result column="GROUPID" jdbcType="DECIMAL" property="groupid" />
  </resultMap>
  <resultMap class="com.tfs.irp.microblog.entity.IrpMicroblog" extends="IRP_MICROBLOG.ibatorgenerated_BaseResultMap" id="ibatorgenerated_ResultMapWithBLOBs">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 15 11:31:18 CST 2014.
    -->
    <result column="MICROBLOGCONTENTIMG" jdbcType="LONGVARCHAR" property="microblogcontentimg" />
  </resultMap>
  <sql id="ibatorgenerated_Example_Where_Clause">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 15 11:31:18 CST 2014.
    -->
    <iterate conjunction="or" prepend="where" property="oredCriteria" removeFirstPrepend="iterate">
      <isEqual compareValue="true" property="oredCriteria[].valid">
        (
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithoutValue">
          $oredCriteria[].criteriaWithoutValue[]$
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithSingleValue">
          $oredCriteria[].criteriaWithSingleValue[].condition$
            #oredCriteria[].criteriaWithSingleValue[].value#
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithListValue">
          $oredCriteria[].criteriaWithListValue[].condition$
          <iterate close=")" conjunction="," open="(" property="oredCriteria[].criteriaWithListValue[].values">
            #oredCriteria[].criteriaWithListValue[].values[]#
          </iterate>
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithBetweenValue">
          $oredCriteria[].criteriaWithBetweenValue[].condition$
          #oredCriteria[].criteriaWithBetweenValue[].values[0]# and
          #oredCriteria[].criteriaWithBetweenValue[].values[1]#
        </iterate>
        )
      </isEqual>
    </iterate>
  </sql>
  <select id="ibatorgenerated_selectByExampleWithBLOBs" parameterClass="com.tfs.irp.microblog.entity.IrpMicroblogExample" resultMap="ibatorgenerated_ResultMapWithBLOBs">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 15 11:31:18 CST 2014.
    -->
    select MICROBLOGID, USERID, MICROBLOGCONTENT, CRTIME, FROMCLIENT, FROMDATA, COMMENTCOUNT,
      TRANSPONDID, TRANSPONDCOUNT, BLOGTYPE, TYPEDATA, ISDEL, GROUPID, MICROBLOGCONTENTIMG
    from IRP_MICROBLOG
    <isParameterPresent>
      <include refid="IRP_MICROBLOG.ibatorgenerated_Example_Where_Clause" />
      <isNotNull property="orderByClause">
        order by $orderByClause$
      </isNotNull>
    </isParameterPresent>
  </select>
  <select id="ibatorgenerated_selectByExample" parameterClass="com.tfs.irp.microblog.entity.IrpMicroblogExample" resultMap="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 15 11:31:18 CST 2014.
    -->
    select MICROBLOGID, USERID, MICROBLOGCONTENT, CRTIME, FROMCLIENT, FROMDATA, COMMENTCOUNT,
      TRANSPONDID, TRANSPONDCOUNT, BLOGTYPE, TYPEDATA, ISDEL, GROUPID
    from IRP_MICROBLOG
    <isParameterPresent>
      <include refid="IRP_MICROBLOG.ibatorgenerated_Example_Where_Clause" />
      <isNotNull property="orderByClause">
        order by $orderByClause$
      </isNotNull>
    </isParameterPresent>
  </select>
  <select id="ibatorgenerated_selectByPrimaryKey" parameterClass="com.tfs.irp.microblog.entity.IrpMicroblog" resultMap="ibatorgenerated_ResultMapWithBLOBs">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 15 11:31:18 CST 2014.
    -->
    select MICROBLOGID, USERID, MICROBLOGCONTENT, CRTIME, FROMCLIENT, FROMDATA, COMMENTCOUNT,
      TRANSPONDID, TRANSPONDCOUNT, BLOGTYPE, TYPEDATA, ISDEL, GROUPID, MICROBLOGCONTENTIMG
    from IRP_MICROBLOG
    where MICROBLOGID = #microblogid:DECIMAL#
  </select>
  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="com.tfs.irp.microblog.entity.IrpMicroblog">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 15 11:31:18 CST 2014.
    -->
    delete from IRP_MICROBLOG
    where MICROBLOGID = #microblogid:DECIMAL#
  </delete>
  <delete id="ibatorgenerated_deleteByExample" parameterClass="com.tfs.irp.microblog.entity.IrpMicroblogExample">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 15 11:31:18 CST 2014.
    -->
    delete from IRP_MICROBLOG
    <include refid="IRP_MICROBLOG.ibatorgenerated_Example_Where_Clause" />
  </delete>
  <insert id="ibatorgenerated_insert" parameterClass="com.tfs.irp.microblog.entity.IrpMicroblog">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 15 11:31:18 CST 2014.
    -->
    insert into IRP_MICROBLOG (MICROBLOGID, USERID, MICROBLOGCONTENT, CRTIME, FROMCLIENT, FROMDATA,
      COMMENTCOUNT, TRANSPONDID, TRANSPONDCOUNT, BLOGTYPE, TYPEDATA, ISDEL, GROUPID,
      MICROBLOGCONTENTIMG)
    values (#microblogid:DECIMAL#, #userid:DECIMAL#, #microblogcontent:VARCHAR#, #crtime:TIMESTAMP#,
      #fromclient:DECIMAL#, #fromdata:VARCHAR#, #commentcount:DECIMAL#, #transpondid:DECIMAL#,
      #transpondcount:DECIMAL#, #blogtype:DECIMAL#, #typedata:VARCHAR#, #isdel:DECIMAL#,
      #groupid:DECIMAL#, #microblogcontentimg:LONGVARCHAR#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="com.tfs.irp.microblog.entity.IrpMicroblog">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 15 11:31:18 CST 2014.
    -->
    insert into IRP_MICROBLOG
    <dynamic prepend="(">
      <isNotNull prepend="," property="microblogid">
        MICROBLOGID
      </isNotNull>
      <isNotNull prepend="," property="userid">
        USERID
      </isNotNull>
      <isNotNull prepend="," property="microblogcontent">
        MICROBLOGCONTENT
      </isNotNull>
      <isNotNull prepend="," property="crtime">
        CRTIME
      </isNotNull>
      <isNotNull prepend="," property="fromclient">
        FROMCLIENT
      </isNotNull>
      <isNotNull prepend="," property="fromdata">
        FROMDATA
      </isNotNull>
      <isNotNull prepend="," property="commentcount">
        COMMENTCOUNT
      </isNotNull>
      <isNotNull prepend="," property="transpondid">
        TRANSPONDID
      </isNotNull>
      <isNotNull prepend="," property="transpondcount">
        TRANSPONDCOUNT
      </isNotNull>
      <isNotNull prepend="," property="blogtype">
        BLOGTYPE
      </isNotNull>
      <isNotNull prepend="," property="typedata">
        TYPEDATA
      </isNotNull>
      <isNotNull prepend="," property="isdel">
        ISDEL
      </isNotNull>
      <isNotNull prepend="," property="groupid">
        GROUPID
      </isNotNull>
      <isNotNull prepend="," property="microblogcontentimg">
        MICROBLOGCONTENTIMG
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(">
      <isNotNull prepend="," property="microblogid">
        #microblogid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="userid">
        #userid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="microblogcontent">
        #microblogcontent:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="crtime">
        #crtime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="fromclient">
        #fromclient:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="fromdata">
        #fromdata:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="commentcount">
        #commentcount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="transpondid">
        #transpondid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="transpondcount">
        #transpondcount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="blogtype">
        #blogtype:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="typedata">
        #typedata:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="isdel">
        #isdel:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="groupid">
        #groupid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="microblogcontentimg">
        #microblogcontentimg:LONGVARCHAR#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <select id="ibatorgenerated_countByExample" parameterClass="com.tfs.irp.microblog.entity.IrpMicroblogExample" resultClass="java.lang.Integer">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 15 11:31:18 CST 2014.
    -->
    select count(*) from IRP_MICROBLOG
    <include refid="IRP_MICROBLOG.ibatorgenerated_Example_Where_Clause" />
  </select>
  <update id="ibatorgenerated_updateByExampleSelective">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 15 11:31:18 CST 2014.
    -->
    update IRP_MICROBLOG
    <dynamic prepend="set">
      <isNotNull prepend="," property="record.microblogid">
        MICROBLOGID = #record.microblogid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.userid">
        USERID = #record.userid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.microblogcontent">
        MICROBLOGCONTENT = #record.microblogcontent:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.crtime">
        CRTIME = #record.crtime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="record.fromclient">
        FROMCLIENT = #record.fromclient:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.fromdata">
        FROMDATA = #record.fromdata:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.commentcount">
        COMMENTCOUNT = #record.commentcount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.transpondid">
        TRANSPONDID = #record.transpondid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.transpondcount">
        TRANSPONDCOUNT = #record.transpondcount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.blogtype">
        BLOGTYPE = #record.blogtype:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.typedata">
        TYPEDATA = #record.typedata:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.isdel">
        ISDEL = #record.isdel:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.groupid">
        GROUPID = #record.groupid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.microblogcontentimg">
        MICROBLOGCONTENTIMG = #record.microblogcontentimg:LONGVARCHAR#
      </isNotNull>
    </dynamic>
    <isParameterPresent>
      <include refid="IRP_MICROBLOG.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="ibatorgenerated_updateByExampleWithBLOBs">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 15 11:31:18 CST 2014.
    -->
    update IRP_MICROBLOG
    set MICROBLOGID = #record.microblogid:DECIMAL#,
      USERID = #record.userid:DECIMAL#,
      MICROBLOGCONTENT = #record.microblogcontent:VARCHAR#,
      CRTIME = #record.crtime:TIMESTAMP#,
      FROMCLIENT = #record.fromclient:DECIMAL#,
      FROMDATA = #record.fromdata:VARCHAR#,
      COMMENTCOUNT = #record.commentcount:DECIMAL#,
      TRANSPONDID = #record.transpondid:DECIMAL#,
      TRANSPONDCOUNT = #record.transpondcount:DECIMAL#,
      BLOGTYPE = #record.blogtype:DECIMAL#,
      TYPEDATA = #record.typedata:VARCHAR#,
      ISDEL = #record.isdel:DECIMAL#,
      GROUPID = #record.groupid:DECIMAL#,
      MICROBLOGCONTENTIMG = #record.microblogcontentimg:LONGVARCHAR#
    <isParameterPresent>
      <include refid="IRP_MICROBLOG.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="ibatorgenerated_updateByExample">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 15 11:31:18 CST 2014.
    -->
    update IRP_MICROBLOG
    set MICROBLOGID = #record.microblogid:DECIMAL#,
      USERID = #record.userid:DECIMAL#,
      MICROBLOGCONTENT = #record.microblogcontent:VARCHAR#,
      CRTIME = #record.crtime:TIMESTAMP#,
      FROMCLIENT = #record.fromclient:DECIMAL#,
      FROMDATA = #record.fromdata:VARCHAR#,
      COMMENTCOUNT = #record.commentcount:DECIMAL#,
      TRANSPONDID = #record.transpondid:DECIMAL#,
      TRANSPONDCOUNT = #record.transpondcount:DECIMAL#,
      BLOGTYPE = #record.blogtype:DECIMAL#,
      TYPEDATA = #record.typedata:VARCHAR#,
      ISDEL = #record.isdel:DECIMAL#,
      GROUPID = #record.groupid:DECIMAL#
    <isParameterPresent>
      <include refid="IRP_MICROBLOG.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="ibatorgenerated_updateByPrimaryKeySelective" parameterClass="com.tfs.irp.microblog.entity.IrpMicroblog">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 15 11:31:18 CST 2014.
    -->
    update IRP_MICROBLOG
    <dynamic prepend="set">
      <isNotNull prepend="," property="userid">
        USERID = #userid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="microblogcontent">
        MICROBLOGCONTENT = #microblogcontent:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="crtime">
        CRTIME = #crtime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="fromclient">
        FROMCLIENT = #fromclient:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="fromdata">
        FROMDATA = #fromdata:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="commentcount">
        COMMENTCOUNT = #commentcount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="transpondid">
        TRANSPONDID = #transpondid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="transpondcount">
        TRANSPONDCOUNT = #transpondcount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="blogtype">
        BLOGTYPE = #blogtype:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="typedata">
        TYPEDATA = #typedata:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="isdel">
        ISDEL = #isdel:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="groupid">
        GROUPID = #groupid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="microblogcontentimg">
        MICROBLOGCONTENTIMG = #microblogcontentimg:LONGVARCHAR#
      </isNotNull>
    </dynamic>
    where MICROBLOGID = #microblogid:DECIMAL#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKeyWithBLOBs" parameterClass="com.tfs.irp.microblog.entity.IrpMicroblog">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 15 11:31:18 CST 2014.
    -->
    update IRP_MICROBLOG
    set USERID = #userid:DECIMAL#,
      MICROBLOGCONTENT = #microblogcontent:VARCHAR#,
      CRTIME = #crtime:TIMESTAMP#,
      FROMCLIENT = #fromclient:DECIMAL#,
      FROMDATA = #fromdata:VARCHAR#,
      COMMENTCOUNT = #commentcount:DECIMAL#,
      TRANSPONDID = #transpondid:DECIMAL#,
      TRANSPONDCOUNT = #transpondcount:DECIMAL#,
      BLOGTYPE = #blogtype:DECIMAL#,
      TYPEDATA = #typedata:VARCHAR#,
      ISDEL = #isdel:DECIMAL#,
      GROUPID = #groupid:DECIMAL#,
      MICROBLOGCONTENTIMG = #microblogcontentimg:LONGVARCHAR#
    where MICROBLOGID = #microblogid:DECIMAL#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="com.tfs.irp.microblog.entity.IrpMicroblog">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 15 11:31:18 CST 2014.
    -->
    update IRP_MICROBLOG
    set USERID = #userid:DECIMAL#,
      MICROBLOGCONTENT = #microblogcontent:VARCHAR#,
      CRTIME = #crtime:TIMESTAMP#,
      FROMCLIENT = #fromclient:DECIMAL#,
      FROMDATA = #fromdata:VARCHAR#,
      COMMENTCOUNT = #commentcount:DECIMAL#,
      TRANSPONDID = #transpondid:DECIMAL#,
      TRANSPONDCOUNT = #transpondcount:DECIMAL#,
      BLOGTYPE = #blogtype:DECIMAL#,
      TYPEDATA = #typedata:VARCHAR#,
      ISDEL = #isdel:DECIMAL#,
      GROUPID = #groupid:DECIMAL#
    where MICROBLOGID = #microblogid:DECIMAL#
  </update>


	<resultMap class="com.tfs.irp.microblog.entity.IrpUserInfoView" id="ibatorgenerated_BaseResultMapInfoView">
    <result column="MICROBLOGID" jdbcType="DECIMAL" property="MICROBLOGID" />
    <result column="USERID" jdbcType="DECIMAL" property="USERID" />
  	<result column="MICROBLOGFOCUSID" jdbcType="DECIMAL" property="MICROBLOGFOCUSID" />
  	<result column="MICROBLOGUSERID" jdbcType="DECIMAL" property="MICROBLOGUSERID" />
  	<result column="SHOWNAME" jdbcType="VARCHAR" property="SHOWNAME" />
  	<result column="USERPIC" jdbcType="VARCHAR" property="USERPIC" />
  	<result column="SEX" jdbcType="DECIMAL" property="SEX" />
  </resultMap>



  <resultMap class="com.tfs.irp.microblog.entity.IrpMicroblogView" id="ibatorgenerated_BaseResultMapView">
    <result column="MICROBLOGID" jdbcType="DECIMAL" property="MICROBLOGID" />
    <result column="USERID" jdbcType="DECIMAL" property="USERID" />
    <result column="CRTIME" jdbcType="TIMESTAMP" property="CRTIME" />
    <result column="FROMCLIENT" jdbcType="DECIMAL" property="FROMCLIENT" />
    <result column="FROMDATA" jdbcType="VARCHAR" property="FROMDATA" />
    <result column="COMMENTCOUNT" jdbcType="DECIMAL" property="COMMENTCOUNT" />
    <result column="TRANSPONDID" jdbcType="DECIMAL" property="TRANSPONDID" />
    <result column="TRANSPONDCOUNT" jdbcType="DECIMAL" property="TRANSPONDCOUNT" />
    <result column="BLOGTYPE" jdbcType="DECIMAL" property="BLOGTYPE" />
    <result column="TYPEDATA" jdbcType="VARCHAR" property="TYPEDATA" />
    <result column="ISDEL" jdbcType="DECIMAL" property="ISDEL" />
    <result column="GROUPID" jdbcType="DECIMAL" property="GROUPID" />
  	<result column="MICROBLOGCONTENT" jdbcType="VARCHAR" property="MICROBLOGCONTENT" />
  	<result column="MICROBLOGCONTENTIMG" jdbcType="CLOB" property="MICROBLOGCONTENTIMG" />
  	<result column="SHOWNAME" jdbcType="VARCHAR" property="SHOWNAME" />
  	<result column="USERPIC" jdbcType="VARCHAR" property="USERPIC" />
  	<result column="SEX" jdbcType="DECIMAL" property="SEX" />
  </resultMap>
    <!-- 显示微知列表  -->
  <select id="ibatorgenerated_microbloglistoffocus" parameterClass="java.util.Map" resultMap="ibatorgenerated_BaseResultMapView">
select M.*,case  when U.NICKNAME is null or U.NICKNAME=''  then U.TRUENAME
          when U.TRUENAME is null or U.TRUENAME=''  then U.USERNAME
          else U.NICKNAME  end as SHOWNAME, U.USERPIC,U.SEX from IRP_MICROBLOG M,IRP_USER U
where M.USERID = U.USERID and M.ISDEL=#misdel:DECIMAL# and M.BLOGTYPE &lt;  5
and (
exists (select USERID from IRP_MICROBLOG_FOCUS where  IRP_MICROBLOG_FOCUS.USERID = M.USERID  
 and  (IRP_MICROBLOG_FOCUS.FOCUSUSERID=#fuserid:DECIMAL# or IRP_MICROBLOG_FOCUS.USERID=#fuserid:DECIMAL#)) 
 or exists (select U2.USERID from IRP_USER U2 where U2.USERID =M.USERID and USERID =#fuserid:DECIMAL#))
 order by M.CRTIME desc
   </select>
   <!-- 搜索微知 -->
   <select id="ibatorgenerated_searchmicroblog" parameterClass="java.util.Map" resultMap="ibatorgenerated_BaseResultMapView">
	   select M.*,case  when U.NICKNAME is null or U.NICKNAME=''  then U.TRUENAME
	          when U.TRUENAME is null or U.TRUENAME=''  then U.USERNAME
	          else U.NICKNAME  end as SHOWNAME, U.USERPIC,U.SEX from IRP_MICROBLOG M,IRP_USER U
		where M.USERID = U.USERID and M.ISDEL=#misdel:DECIMAL# and M.MICROBLOGCONTENT LIKE '%' || #searchword:DECIMAL# || '%' 
	   order by M.CRTIME desc
   </select>
      <!-- 管理显示微知列表  -->
  <select id="ibatorgenerated_microbloglistoffocusManager" parameterClass="java.util.Map" resultMap="ibatorgenerated_BaseResultMapView">
select m.*,case  when U.NICKNAME is null or U.NICKNAME=''  then U.TRUENAME
          when U.TRUENAME is null or U.TRUENAME=''  then U.USERNAME
          else U.NICKNAME  end as SHOWNAME, u.userpic,u.sex from IRP_MICROBLOG m,irp_user u
where m.userid = u.userid and m.isdel=#misdel:DECIMAL#  order by m.crtime desc
   </select>
   <!-- 管理微知   举报 -->
   <resultMap class="com.tfs.irp.microblog.entity.IrpMicroblogInform" id="ibatorgenerated_BaseResultMapInform" extends="ibatorgenerated_BaseResultMapView">
   	   <result column="INFORMCONTENT" jdbcType="VARCHAR" property="INFORMCONTENT" />
	   <result column="INFORMKEY" jdbcType="VARCHAR" property="INFORMKEY" />
	   <result column="USERIDER" jdbcType="DECIMAL" property="USERIDER" />
	   <result column="CRTIMEER" jdbcType="TIMESTAMP" property="CRTIMEER" />
	   <result column="INFORMID" jdbcType="DECIMAL" property="INFORMID" />
   </resultMap>
   <select id="ibatorgenerated_microbloglistofinform" parameterClass="java.util.Map" resultMap="ibatorgenerated_BaseResultMapInform" >
select m.*,case  when U.NICKNAME is null or U.NICKNAME=''  then U.TRUENAME
          when U.TRUENAME is null or U.TRUENAME=''  then U.USERNAME
          else U.NICKNAME  end as SHOWNAME, U.USERPIC,U.SEX,I.INFORMCONTENT,I.INFORMKEY,I.USERID as USERIDER,I.CRTIME as CRTIMEER,I.INFORMID from IRP_MICROBLOG M,IRP_USER U,IRP_INFORM I
where M.USERID = U.USERID and M.MICROBLOGID = I.INFORMNAMEID  and M.ISDEL=#misdel:DECIMAL# and i.informtype = #informtype:DECIMAL# and i.informstatus =#informstatus:DECIMAL#  $infromkeys$ order by i.crtime desc
   </select>
   <select id="ibatorgenerated_countmicrobloglistofinform" parameterClass="java.util.Map" resultClass="java.lang.Integer">
	select count(1) from IRP_MICROBLOG M,IRP_USER U,IRP_INFORM I
	where 
		M.USERID = U.USERID and 
		M.MICROBLOGID = I.INFORMNAMEID and 
		M.ISDEL=#misdel:DECIMAL# and 
		i.informtype = #informtype:DECIMAL# and 
		i.informstatus =#informstatus:DECIMAL#
		$infromkeys$
   </select>
   
   <!-- 显示微知列表 （收藏）-->
     <select id="ibatorgenerated_microbloglistoffocusCollect" parameterClass="java.util.Map" resultMap="ibatorgenerated_BaseResultMapView">

select m.*,case  when U.NICKNAME is null or U.NICKNAME=''  then U.TRUENAME
          when U.TRUENAME is null or U.TRUENAME=''  then U.USERNAME
          else U.NICKNAME  end as SHOWNAME, U.USERPIC,U.SEX from IRP_MICROBLOG M,IRP_USER U
where M.USERID = U.USERID and M.ISDEL=#misdel:DECIMAL# and exists (select microblogid from IRP_MICROBLOG_COLLECTION mc where mc.MICROBLOGID = M.MICROBLOGID and mc.userid=#userid:DECIMAL#)
 order by m.crtime desc
   </select>
    <!-- 显示微知列表 （收藏）-->
     <select id="ibatorgenerated_microbloglistoffocusnotuseridCollect" parameterClass="java.util.Map" resultMap="ibatorgenerated_BaseResultMapView">
select m.*,case  when U.NICKNAME is null or U.NICKNAME=''  then U.TRUENAME
          when U.TRUENAME is null or U.TRUENAME=''  then U.USERNAME
          else U.NICKNAME  end as SHOWNAME, U.USERPIC,U.SEX from IRP_MICROBLOG M,IRP_USER U
where M.USERID = U.USERID  and exists (select microblogid from IRP_MICROBLOG_COLLECTION mc where mc.MICROBLOGID = M.MICROBLOGID and mc.userid=#userid:DECIMAL#)
 order by m.crtime desc
   </select>
   <!-- 根据id显示微知列表 -->
     <select id="ibatorgenerated_microbloglistoffocusByMicroblogid" parameterClass="java.util.Map" resultMap="ibatorgenerated_BaseResultMapView">
select m.*,case  when U.NICKNAME is null or U.NICKNAME=''  then U.TRUENAME
          when U.TRUENAME is null or U.TRUENAME=''  then U.USERNAME
          else U.NICKNAME  end as SHOWNAME,U.USERPIC,U.SEX from IRP_MICROBLOG m,irp_user u
where m.userid = u.userid and m.isdel=#misdel:DECIMAL# and m.microblogid=#microblogid:DECIMAL# and 
exists (select USERID from IRP_MICROBLOG_FOCUS where  IRP_MICROBLOG_FOCUS.USERID = M.USERID or M.USERID = #fuserid:DECIMAL#  and  IRP_MICROBLOG_FOCUS.FOCUSUSERID=#fuserid:DECIMAL#) order by m.crtime desc
   </select>
  <!-- 构建微知卡片 -->
  <select id="ibatorgenerated_microbloglistforUseridCard" parameterClass="java.util.Map" resultClass="java.util.HashMap">
  select U.USERID,U.SEX,U.EXPERTINTRO,case  when U.NICKNAME is null or U.NICKNAME=''  then U.TRUENAME
          when U.TRUENAME is null or U.TRUENAME=''  then U.USERNAME
          else U.NICKNAME  end as SHOWNAME,
			U.LOCATION,U.CITY,U.AREA,U.PROVINCE,U.USERID as MESSAGEUSERID,(select COUNT(1) from IRP_MICROBLOG where USERID = #userid:DECIMAL# and isdel =#isdel:DECIMAL#) as MICROBLOgCOUNT,   
			(select COUNT(1) from IRP_MICROBLOG_FOCUS where FOCUSUSERID =#userid:DECIMAL# ) as MICROBLOGFOCUSID,
			(select count(1) from irp_microblog_focus where userid =#userid:DECIMAL# ) as MICROBLOGUSERID,M.MICROBLOGID as MICROBLOGID,U.USERPIC as USERPIC
			from IRP_MICROBLOG  M,IRP_USER  U  
			where  U.USERID =#userid:DECIMAL#
  </select>
  <!-- 构建微知卡片  返回对象 -->
  <select id="ibatorgenerated_microbloglistforUserid" parameterClass="java.util.Map" resultMap="ibatorgenerated_BaseResultMapInfoView">
  select U.USERID,U.SEX,U.EXPERTINTRO,case  when U.NICKNAME is null or U.NICKNAME=''  then U.TRUENAME
          when U.TRUENAME is null or U.TRUENAME=''  then U.USERNAME
          else U.NICKNAME  end as SHOWNAME,
			U.LOCATION,U.CITY,U.AREA,U.PROVINCE,U.USERID as MESSAGEUSERID,(select COUNT(1) from IRP_MICROBLOG where USERID = #userid:DECIMAL# and isdel =#isdel:DECIMAL#) as MICROBLOgCOUNT,   
			(select COUNT(1) from IRP_MICROBLOG_FOCUS where FOCUSUSERID =#userid:DECIMAL# ) as MICROBLOGFOCUSID,
			(select count(1) from irp_microblog_focus where userid =#userid:DECIMAL# ) as MICROBLOGUSERID,M.MICROBLOGID as MICROBLOGID,U.USERPIC as USERPIC
			from IRP_MICROBLOG  M,IRP_USER  U  
			where  U.USERID =#userid:DECIMAL#
  </select>
  
  <!-- 构建登陆人信息 -->
  <select id="ibatorgenerated_loginUserInfo" parameterClass="java.util.Map" resultClass="java.util.HashMap">
  
select 
    case  when U.NICKNAME is null or U.NICKNAME=''  then U.TRUENAME
          when U.TRUENAME is null or U.TRUENAME=''  then U.USERNAME
          else U.NICKNAME  end as SHOWNAME,U.USERPIC,U.SEX,U.LOCATION,U.USERID,
          (select COUNT(1) from IRP_CHNL_DOC_LINK C where C.DOCSTATUS>=#docstatus:DECIMAL# and EXISTS (select siteid from irp_site where irp_site.SITEID=c.siteid and sitetype=1) and C.CRUSERID=#userid:DECIMAL#) as KNOWLEDGECOUNT,
          (select COUNT(1) from IRP_MICROBLOG M where M.ISDEL=#isdel:DECIMAL# and M.USERID=#userid:DECIMAL#) as MICROBLOGCOUNT,
          (select COUNT(1) from IRP_DOCUMENT_COLLECTION D where D.USERID=#userid:DECIMAL#) as KNOWLEDGECOLLECCOUNT,
          (select count(1) from irp_microblog_collection mc where mc.userid=#userid:DECIMAL# ) as MICROBLOGCOLLECTCOUNT
          from IRP_USER U where U.USERID = #userid:DECIMAL#
  
   </select>
<!-- 推荐关注(按照粉丝)  -->
<select id="ibatorgenerated_defaultRecommendUser" parameterClass="java.util.Map" resultClass="java.util.HashMap">
select COUNT(1) as USERCOUNT,USERID from IRP_MICROBLOG_FOCUS imf where 
exists (select userid from irp_user u where u.userid=imf.userid and U.userid  $notuserid$  and U.STATUS=#status:DECIMAL#  ) and imf.userid!=#userid:DECIMAL#  group by userid order by usercount desc
</select>
<!-- 推荐关注(按照微知数量)   -->
<select id="ibatorgenerated_defaultRecommendUserOfMicNum" parameterClass="java.util.Map" resultClass="java.util.HashMap" >
select COUNT(1) as MICRCOUNT, USERID from IRP_MICROBLOG 
 where USERID!=#userid:DECIMAL# and exists (select userid from irp_user u where u.userid = IRP_MICROBLOG.userid and U.userid $notuserid$ and U.STATUS=#status:DECIMAL# )   group by USERID order by MICRCOUNT desc
</select>
<!-- 推荐关注(按照用户创建时间)   -->
<select id="ibatorgenerated_defaultRecommendUserOfUserCrtime" parameterClass="java.util.Map" resultClass="java.util.HashMap"  >
select USERID from irp_user where userid!=#userid:DECIMAL# and userid $notuserid$ and status=#status:DECIMAL# order by crtime desc
</select>

<!-- 求某个用户有多少条微知 -->
<select id="ibatorgenerated_searchMicrCountOfUserid" parameterClass="java.util.Map" resultClass="java.lang.Integer">
select count(1) as MICRCOUNT from IRP_MICROBLOG where userid = #userid:DECIMAL#
</select>
<!-- 求某个用户有多少个关注-->
<select id="ibatorgenerated_searchFocusCountOfUserid" parameterClass="java.util.Map" resultClass="java.lang.Integer"  >
select COUNT(USERID) as FOCUSCOUNT from IRP_MICROBLOG_FOCUS where FOCUSUSERID=#userid:DECIMAL#
</select>
<!-- 求某个用户有多少个粉丝-->
<select id="ibatorgenerated_searchFusCountOfUserid" parameterClass="java.util.Map" resultClass="java.lang.Integer"  >
select COUNT(FOCUSUSERID) as FOCUSCOUNT from IRP_MICROBLOG_FOCUS where USERID=#focususerid:DECIMAL#
</select>
<!-- 查出所有的主题 -->
<select id="ibatorgenerated_searchAllTopic" resultClass="java.util.HashMap" parameterClass="java.util.Map" >
select USERID,TOPICVALUE,MICROBLOGID,ISDEL,BLOGTYPE from IRP_MICROBLOG where ISDEL=#isdel:DECIMAL# and BLOGTYPE=#blogtype:DECIMAL#  order by CRTIME desc
</select>
<!-- 获取分组显示的微知 -->
<select id="ibatorgenerated_microbloguserofbygroupid" resultClass="java.util.HashMap" parameterClass="java.util.Map">
 select IMF.FOCUSUSERID from  IRP_MICROBLOG_FOCUS IMF where IMF.USERID = #userid:DECIMAL# and 
exists( select USERID from IRP_USERGROUP_LINK IUL where IUL.GROUPID = #groupid:DECIMAL# and IUL.USERID= IMF.FOCUSUSERID) 
</select>






</sqlMap>